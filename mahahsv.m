function[out12]=mahahsv(a,t,l1,l2)
    b=double(rgb2hsv(t));
    b1=b(:,:,l1);
    b2=b(:,:,l2);
    me1=mean2(b1);
    me2=mean2(b2);
    cove1=cov(b1,b2);
    s=size(a);
    c=double(rgb2hsv(a));
    b1=c(:,:,l1);
    b2=c(:,:,l2);
    tom=[me1;me2];
    cove=inv(cove1);
    m1=repmat(tom(1),s(1),s(2));
    m2=repmat(tom(2),s(1),s(2));
    sub1=b1-m1;
    sub2=b2-m2;
    sub11=sub1*cove(1,1)+sub2*cove(2,1);
    sub22=sub2*cove(2,2)+sub1*cove(1,2);
    out1=(sub11.*sub1)+(sub22.*sub2);
    out12=uint8(out1);
